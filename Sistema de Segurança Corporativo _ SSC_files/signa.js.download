//Site para mimificar js:  http://lisperator.net/uglifyjs/
// Javascript do SIGNA
var Signa = (function(){

	var param = {};
	var config = {};
	var ids;

	function setParams(params) {
		if(!!params.urlParaBuscar) param.urlParaBuscar = params.urlParaBuscar;
		if(!!params.urlParaGravar) param.urlParaGravar = params.urlParaGravar;
		if(!!params.modeloAssinatura) param.modeloAssinatura = params.modeloAssinatura;
		if(!!params.tipoAssinatura) param.tipoAssinatura = params.tipoAssinatura;
		if(!!params.politicaAssinatura) param.politicaAssinatura = params.politicaAssinatura;
		if(!!params.tipoRetorno) param.tipoRetorno = params.tipoRetorno;
		if(!!params.idsDocumentos) ids = params.idsDocumentos;
		if(!!params.cpf) param.cpf = params.cpf;
    	if(!!params.enderecoDoServicoAssinatura) config.enderecoDoServicoAssinatura = params.enderecoDoServicoAssinatura;
		if(params.hasOwnProperty('fecharAutomatico')) config.fecharAutomatico = params.fecharAutomatico;
	}

	function checkRequiredFields() {
		if (!(config.hasOwnProperty('enderecoDoServicoAssinatura')
        && param.hasOwnProperty('urlParaBuscar')
        && param.hasOwnProperty('urlParaGravar')))

			throw new Error('Missing required fields!');
	}

	function fecharAutomatico() {
		if (config.hasOwnProperty('fecharAutomatico')) return false;
		return true;
	}

	function lerCookie(name) {
		var nameEQ = name + "=";
		var ca = document.cookie.split(';');
		for ( var i = 0; i < ca.length; i++) {
			var c = ca[i];
			while (c.charAt(0) == ' '){c = c.substring(1, c.length);}
			if (c.indexOf(nameEQ) === 0) {
				return c.substring(nameEQ.length, c.length);
			}
		}
		return null;
	}

	function getParamsAsQueryParam() {
		var queryParam = "";
		for (prop in param) {
			if (prop !== "idsDocumentos"){
				queryParam += prop + "=" + encodeURIComponent(param[prop]) + "&";				
			}
		}
		return queryParam.substring(0, queryParam.length -1);
	}

	function getParamsAsJson() {
		var json = JSON.stringify(param);
		return json;
	}
	
	function isChrome() {
		return !!window.chrome;
	}
	
	function getChromeVersion () {     
	    var raw = navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);
	    return raw ? parseInt(raw[2], 10) : false;
	}
	
	function isFirefox() {
		return typeof InstallTrigger !== 'undefined';
	}
	
	function getFirefoxVersion(){
		var match = navigator.userAgent.match(/Firefox\/([0-9]+)\./);
		return match ? parseInt(match[1]) : 0;
	}
	
	function isIE() {
		return  /*@cc_on!@*/false || !!document.documentMode;
	}
	
	function isExtensionInstalled() {
		var extId = "idbpfpeogbhifooiagnbbdbffplkfcke";
		var extensionInstalled = document.getElementById(extId);	  
		return !!extensionInstalled;
	}

	function iniciarAssinaturaJsonp(params) {
		abrirPopup();
		setParams(params);
		checkRequiredFields();

		var url = config.enderecoDoServicoAssinatura + "/rest/assinatura?";
		url += getParamsAsQueryParam();

		var script = document.createElement('script');
		script.src = url;
		var script = document.getElementsByTagName('head')[0].appendChild(script);
		script.onerror = function(message,error){
			alterarMensagemStatus("Servi\u00e7o de assinatura digital (Signa) n\u00e3o est\u00e1 dispon\u00edvel no momento. Favor tentar mais tarde.");	
		}
	}

	function carregarAppletJson(data) {
		config.id = decodeURIComponent(data.id);
		verificarBrowserEIniciar();
	}
	
	function iniciarAssinaturaApi(data, callback) {
		abrirPopup();
		if (data.hasOwnProperty('version'))
			config.version = data.version;
		if(!!data.tipoProcesso) param.tipoProcesso = data.tipoProcesso;
		if(!!data.enderecoDoServicoAssinatura) config.enderecoDoServicoAssinatura = data.enderecoDoServicoAssinatura;
		data.hasOwnProperty('fecharAutomatico') ? config.fecharAutomatico = data.fecharAutomatico : false;
		verificarBrowserEIniciar(callback);
		
	}
	
	function verificarBrowserEIniciar(callback) {
		if ((isChrome() && getChromeVersion() >= 45) || (isFirefox() && getFirefoxVersion() >= 52)){
			if (isExtensionInstalled()) {
				iniciarAplicacaoSignaDesktop();
				
				if (typeof callback !== "undefined")
					callback();
					
			} else {
				alterarMensagemStatus("Favor instalar a extens\u00e3o Signa - Prodemge para assinatura digital.<br>Para acessar o tutorial de instala\u00e7\u00e3o clique <a href=\"https://wwws.prodemge.gov.br/suporte/instalacao-signa\" target=\"_blank\">aqui<\/a>.");
			}
		}else if (isIE() || (isChrome() && getChromeVersion() < 45) || (isFirefox() && getFirefoxVersion() < 52)){
			carregarApplet(callback);			
		}else{
			alterarMensagemStatus("Navegador n\u00e3o homologado para o uso da assinatura digital. Utilize o Chrome, Mozilla Firefox ou Internet Explorer.");
		}

	}

	function iniciarAplicacaoSignaDesktop(){
		var sessionIdVar = config.id || lerCookie("JSESSIONID");
		var javaVar = !!config.id ? "false":getUrl();
		var processoVar = !!param.tipoProcesso ? param.tipoProcesso : "assinar";
		var servidorRestVar = !!config.enderecoDoServicoAssinatura ? config.enderecoDoServicoAssinatura : getUrl();
		var cpfVar = !!param.cpf ? param.cpf : '';
		var urlBaseVar = !!config.urlBase ? config.urlBase : getUrl();
		var idsDocumentosVar = !!ids ? ids : "";
		var versionVar = !!config.version ? config.version : "";
		window.postMessage({
			type: 'INICIAR_SIGNA',
			sessionId: sessionIdVar,
			java: javaVar,
			processo: processoVar,
			servidorRest: servidorRestVar,
			cpf: cpfVar,
			urlBase: urlBaseVar,
			idsDocumentos: idsDocumentosVar,
			version: versionVar
		}, '*');
	}


	function getUrl() {
		var url;
		var protocolo = location.protocol;
		var dominio = document.domain;
		var caminho = location.pathname;
		var porta = location.port;

		if (!!caminho) {
			caminho = caminho.split("/")[1];
			url = protocolo + "//" + dominio + ":" + porta + "/" + caminho;
		} else {
			url = protocolo + "//" + dominio + ":" + porta + "/";
		}
		return url;
	}

	function carregarApplet(callback) {
		if (validarConfiguracoesDeAmbiente()){
			
			if (typeof callback !== "undefined")
				callback();
			
			var version = getVersion() || config.version;
	
			var sessionId = config.id || lerCookie("JSESSIONID");
			var mainClass = "br.gov.prodemge.certificacao.applet.ProSignerApplet";
			var data = new Date();
			var jarApplet = "certificacao-digital-client-0.0.00.jar?d=".replace(/\d{1}.\d{1}.\d{2}/i, version) + data.getMilliseconds();
			var processo = !!param.tipoProcesso ? param.tipoProcesso : "assinar";
			var servidorRest = !!config.enderecoDoServicoAssinatura ? config.enderecoDoServicoAssinatura : getUrl();
			var idsDocumentos = !!ids ? ids: "";
			var cpf = !!param.cpf ? param.cpf : '';
			var urlBase = getScriptSrcPath();
			var javaVar = !!config.id ? "false":getUrl();
	
			var applet = "<object id='objetoAppletPrd' name='ProSignerApplet' width='0' height='0' type='application/x-java-applet' mayscript='true'>";
			applet += "<param name='code' value='" + mainClass + "' />";
			applet += "<param name='codebase' value='" + urlBase + "' />";
			applet += "<param name='archive' value='" + jarApplet + "' />";
			applet += "<param name='jsessionid' value='" + sessionId + "' />";
			applet += "<param name='tipoProcesso' value='" + processo + "' />";
			applet += "<param name='servidorRest' value='" + servidorRest + "' />";
			applet += "<param name='separate_jvm' value='true' />";
			applet += "<param name='idsDocumentos' value='" + idsDocumentos + "' />";
			applet += "<param name='cpf' value='" + cpf + "' />";
			applet += "<param name='java' value='" + javaVar + "' />";
			applet += "<comment>";
			applet += "<embed src='" + jarApplet + "' type='application/x-java-applet;version=1.7' archive='" + jarApplet + "' cpf='" + cpf + "' "+ "' separate_jvm='true' ";
			applet += "code='" + mainClass + "' codebase='" + urlBase + "' jsessionid='" + sessionId + "' tipoProcesso='" + processo + "'  servidorRest='" + servidorRest + "'  idsDocumentos='" + idsDocumentos + "'  cpf='" + cpf + "'  java='" + javaVar +"' mayscript='true'>";
			applet += "<noembed>No Java Support.</noembed>";
			applet += "</embed>";
			applet += "</comment></object>";
	
			var iDiv = document.createElement('div');
			iDiv.id = 'proSignerDiv';
			iDiv.innerHTML = applet;
			document.body.appendChild(iDiv);
		}
	}

	function validarConfiguracoesDeAmbiente() {
		//Implementação necessária porque o deployJava escreve um plugin ao entrar na página.
		//Esse comportamento foi modificado para o plugin de verificação só ser executado quando o usuário usa o componente.
		escreverPluginParaConferirJava();
		var mensagemParaOFirefox = "";
		if(isFirefox()){
			mensagemParaOFirefox = "<br><a href=\"https://ead.prodemge.gov.br/gea/tutoriais/ssc/habilitar-java-firefox.mp4\" target=\"_blank\">Habilitar o Java no Firefox<\/a><br><a href=\"https://ead.prodemge.gov.br/gea/tutoriais/ssc/solucionar-problema-instalacao-java-firefox.mp4\" target=\"_blank\">Solucionando Problema de Instala\u00e7\u00e3o do Java no Firefox<\/a><br>"
		}
			
		if (deployJava.versionCheck('1.8.0_00+')){
			if (!hasJava()){
				alterarMensagemStatus('Problemas com o plugin Java. Poss\u00edveis causas:<br><br>- O Java n\u00e3o foi instalado no computador.<br>- O plugin Java est\u00e1 desabilitado no navegador.<br><br>Tutoriais sobre instala\u00e7\u00e3o do Java:<br><a href=\"https://ead.prodemge.gov.br/gea/tutoriais/ssc/instalacao-java.mp4\" target=\"_blank\">Instala\u00e7\u00e3o do Java<\/a><br><a href=\"https://ead.prodemge.gov.br/gea/tutoriais/ssc/verificar-java-firefox.mp4\" target=\"_blank\">Verificando o Java<\/a>'+mensagemParaOFirefox);
				return false;
			}
		}else{
			if (!is32BitBrowser()) {
				alterarMensagemStatus("Navegador n\u00e3o homologado para o uso de assinatura digital.<br><br>Detalhes:\nVers\u00e3o de navegador 64 bits n\u00e3o est\u00e1 homologado para assinatura digital. Utilize uma vers\u00e3o 32 bits.");
				return false;
			}
			if (!hasJava()){
				alterarMensagemStatus('Problemas com o plugin Java.\n\nPoss\u00edveis causas:<br><br>- A vers\u00e3o 32 bits do Java n\u00e3o foi instalada no computador.<br>- O plugin Java est\u00e1 desabilitado no navegador.<br>- O navegador utilizado n\u00e3o tem suporte ao Java.<br><br>Tutoriais sobre instala\u00e7\u00e3o do Java:<br><a href=\"https://ead.prodemge.gov.br/gea/tutoriais/ssc/instalacao-java.mp4\" target=\"_blank\">Instala\u00e7\u00e3o do Java<\/a><br><a href=\"https://ead.prodemge.gov.br/gea/tutoriais/ssc/verificar-java-firefox.mp4\" target=\"_blank\">Verificando o Java<\/a>'+mensagemParaOFirefox);
				return false;
			}
		}	
		return true;
	}
	
    function escreverPluginParaConferirJava() {
        var browser = deployJava.getBrowser();

        if (browser == 'MSIE') {
        	var iDiv = document.createElement('div');
    		iDiv.id = 'plugin';
    		iDiv.innerHTML = '<' +
            'object classid="clsid:CAFEEFAC-DEC7-0000-0001-ABCDEFFEDCBA" ' +
            'id="deployJavaPlugin" width="0" height="0">' +
            '<' + '/' + 'object' + '>';
    		document.body.appendChild(iDiv);
        } else if (browser == 'Netscape Family' && deployJava.allowPlugin()) {
        	escreverPluginParaConferirJavaNoFirefox();
        }
    }

    function escreverPluginParaConferirJavaNoFirefox(){
    	var iDiv = document.createElement('div');
		iDiv.id = 'plugin';
		iDiv.innerHTML = '<' +
                        'embed id="deployJavaPlugin" type="' +
                        '" hidden="true" />';
                        document.body.appendChild(iDiv);
    }
	
	function hasJava() {
		var hasJava = true;
		if (deployJava.getJREs().length == 0){
			hasJava = false;
		}
		return hasJava;
	}
	
	function is32BitBrowser() {
		var is32BitBrowser = true;
		if (window.navigator.cpuClass != null && window.navigator.cpuClass.toLowerCase() == "x64")
			is32BitBrowser = false;
		if (window.navigator.platform.toLowerCase() == "win64")
			is32BitBrowser = false;
		return is32BitBrowser;
	}
	
	function getVersion() {
		if (config.hasOwnProperty('enderecoDoServicoAssinatura'))
			return /(certificacao-digital-web\/)(\d{1}.\d{1}.\d{2})/.exec(config.enderecoDoServicoAssinatura)[2];
	}
	
	function getScriptSrcPath() {
	  var scripts = document.scripts;
	  for (var x = 0; x < scripts.length; x++) {
	    var src = scripts[x].src;
	    var dist = src.indexOf('signa.js') > -1 ? 'signa.js' : 'signa.min.js';
	    if (src.indexOf(dist) > -1) return src.substring(0, src.indexOf(dist));
	  }
	}
	
	function encerrarThreadAssinatura(urlBaseCliente){
		var url = urlBaseCliente + "/servletAssinaturaRest?param1=terminarProcessoDeAssinatura";

		var script = document.createElement('script');
		script.src = url;
		var script = document.getElementsByTagName('head')[0].appendChild(script);
		script.onerror = function(message,error){
			console.log("Falhou chamada ao metodo GET do servlet. Tentativa para o metodo POST...")
			var sessionId = lerCookie("JSESSIONID");
			
			var xmlhttp;
			if (window.XMLHttpRequest) {
				xmlhttp = new XMLHttpRequest();
			} else {
				xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
			}
			xmlhttp.onreadystatechange = function() {
				if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
					console.log('Processo de assinatura encerrado.');
				}
			};
			xmlhttp.open("POST", url, true);
			xmlhttp.setRequestHeader("Cookie", "JSESSIONID="+sessionId);
			xmlhttp.send();
			
		}
		script.onload = function(message,error){
			console.log('Processo de assinatura encerrado.');	
		}
	}
	return {
		fecharAutomatico: fecharAutomatico,
		iniciarAssinaturaJsonp: iniciarAssinaturaJsonp,
		carregarAppletJson: carregarAppletJson,
		iniciarAssinaturaApi: iniciarAssinaturaApi,
		encerrarThreadAssinatura: encerrarThreadAssinatura,
		config: config,
		getUrl: getUrl
	};

})();

function imprimirInfo(msg) {
	var textarea = document.getElementById('signaLog');
	textarea.value += msg + '\n';
	textarea.scrollTop = textarea.scrollHeight;
}

if(navigator.appName.indexOf("Internet Explorer")==-1){
	window.addEventListener('message', function(event) {
		// We only accept messages from ourselves
		if (event.source != window) {
			return;
		}

		if (event.data.type && (event.data.type == 'FECHAR_POPUP')) {
			encerrarPopup(event.data.status) 
		}
	}, false);
}

function encerrarPopup(status, msg) {
	removeElement(document.getElementById("loading"));
	if (Signa.fecharAutomatico() && status) contagemRegressiva(5, status, msg);
}

function removeElement(element) {
	element.style.visibility = 'hidden';
	// element && element.parentNode && element.parentNode.removeChild(element);
}

function alterarMensagemStatus(msg) {
	if(navigator.appName.indexOf("Internet Explorer")!=-1){
		document.getElementById("statusMessage").innerText = msg;
	} else {
		document.getElementById("statusMessage").innerHTML = msg;
	}
}

function contagemRegressiva(sec, status, msg) {
	var texto = document.getElementById('countdown');

	var countdown = setInterval(function(){
		if (sec !== 0) {
			texto.innerHTML = "Esta janela ser&aacute; fechada em "+ sec +" segundos.";
			sec = sec -1;
		} else {
			clearInterval(countdown);			
			if(!jaFechouPopup){
				fecharPopup();
			}
		}
	}, 1000);
}

var jaFechouPopup = false;

function abrirPopup() {
  jaFechouPopup = false;
  Modal.open();
}

function fecharPopup() {
	try {
		encerrarSigna();
	} catch(err) {}
	Signa.encerrarThreadAssinatura(!!Signa.config.id ? Signa.config.enderecoDoServicoAssinatura : Signa.getUrl());
	jaFechouPopup = true;
	Modal.close();
}

function abrirPopupProSigner() {
	var params = {
		'version': '3.0.09'
	};
	Signa.iniciarAssinaturaApi(params);
}

function iniciarAssinaturaEJB(urlSigna) {
	var versao = '3.0.09';
	var params = {
		enderecoDoServicoAssinatura: urlSigna + versao
	};
	Signa.iniciarAssinaturaApi(params);
}

//CSS do Signa
(function addStyleElement(){

	var css = "#signa-overlay {\r\n\tposition: absolute;\r\n\tz-index: 16777270;\r\n\ttop: 0px;\r\n\tleft: 0px;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tbackground: #000;\r\n\tdisplay: none;\r\n}\r\n\r\n#signa-content {\r\n\tcolor: #555;\r\n\tfont-family: \"Helvetica\", \"Arial\", sans-serif;\r\n\tfont-size: 0.9em;\r\n\twidth: 425px;\r\n\theight: auto;\r\n\tpadding: 30px;\r\n\tdisplay: none;\r\n\tbackground: #FFF;\r\n\ttext-align: center;\r\n\tborder-radius: 1px;\r\n}\r\n\r\n.signa-content__logo {\r\n\t\tdisplay: \tblock;\r\n\t\tmargin: \t0 auto;\r\n\t\twidth: 40%;\r\n\t\tmargin-bottom: 20px;\r\n\t\margin-top: 10px;\r\n\t\topacity: 0.8;\r\n}\r\n\r\n.signa-content__info {\r\n\tpadding: 10px;\r\n}\r\n#countdown {\r\n\tfont-size: 0.8em;\r\n}\r\n\r\n.modal_close {\r\n\tposition: absolute;\r\n\ttop: 12px;\r\n\tright: 12px;\r\n\tdisplay: block;\r\n\twidth: 14px;\r\n\theight: 14px;\r\n\tcolor:#929292;\r\n\ttext-decoration:none;\r\n\tz-index: 16777271;\r\n}.modal_close:hover{color:#000;\r\n\ttext-decoration:none;}";

 	var style = document.createElement('style');
	style.setAttribute("type", "text/css");
	if (style.styleSheet) {   // for IE
	    style.styleSheet.cssText = css;
	} else {                // others
	    var textnode = document.createTextNode(css);
	    style.appendChild(textnode);
	}
	var h = document.getElementsByTagName('head')[0];
	h.appendChild(style);
})();

//HTML e Javascript do modal do Signa
var Modal = (function() {
	"use strict";
	/* global document: false */
	/* global window: false */

	// create object method
	var method = {};
	var settings = {};
	
	var logo = "data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMwAAABfCAYAAACk0CgfAAAABmJLR0QA\/wD\/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AkVDAYHcWO\/vwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAT1ElEQVR42u1dT2wb153+\/GfduMNUzD8S3cK2htndw4ITydhDJCCO5VCHbmpTMtoL5a5DoTKw9aIije4hppHa3sAkeigcurtJADGQla3FHFpUoo3sRYTsJAsx2INkU4tdoBsN5QIByCQ21XDixI3BPUze+M1whhySQ3IovQ8gbEkzb2Yef9\/7\/Z3321Yul8tgYGAwhe1sChgYGGEYGBhhGBgYYRgYGGEYGLY6YXI5YHwc4Hlg2zb20X54Xp6fXI5J1SbGNlNh5XPngPPn2WyZRTgMXLzI5mFLEmZ8HLh8mc1UvQgGgelpNg9bijBzc8DRo2yWGsXvfw+MjrJ52DKE2b8fWFlhs9QoensBUWTzsCUIk8vJjixDcxBFmTgMmwLGUTIW7bEGbB63CGEYGBgYYRgYmsFONgXdgXw+j0KhAADgeR4Oh2PTPNva2hokSQIACIJg6\/lkhOkCYZqamsLq6qrq91evXkU2m0UkEtE9LxAIYGxsDLOzs0gmk6q\/uVwu+Hw++P1+OBwOHDlypOo9kLHIcdFoVBFso3O9Xi9isZjqHq9evao6ZmlpCYlEQhFc+jwC+vxQKITh4WHVGKdPn66YG5fLBUEQEAgE4Ha7VX8rlUq4cOFCxTl+vx8nTpzYBCbZ0BBw9qyc01heBspl48\/ysnzc2bPyeV2OUqmESCSifLkcx4FvMHLJcRxcLhcAoFAoIJlMIpFIdOzZlpaWEI1GVas8uT8a2WxW+b9WyI1QKBSQTqcRCoWwtram+hs9nzzPg+M4AEAqlcLs7GwXahinU072jYzUn\/Tr75c\/9Hlzc8D8vPxvsdhVhEkkEoqpMjExgZGREcWc0EK7emvB8zxisRhKpRLi8TgymQzS6TTC4bDqXKIxiFYxi3qPJ2TlOA7RaBQej0f32WjC0P830milUgnpdFqZu6mpKUVjLS0tQfwmL0bmkyxKoigilUrVfAb7aJjeXrn+ShTlkhKrMuSjo\/J4ZNwuyolkMhkAgM\/nU8gCoMLMqAcOhwMvvPCCKSFspXYhmiUUCilk0Xs2WqsUCgXdxUL7fCMjI\/D7\/cr5pVJJNRbHccp8OhwOBAIBAIAkSRUayX6EcTofCnQ4LP\/cqusEg11DHNoRfvbZZy0dm4xL7P12Q6SqHwYHB6sSizYp6UWkFgYGBiquR8igNWvpQIO9CRMOywIcDLb3usGg7O+Ew7YlDC3U9ApshV+UTqcVsjSjrZoljNfrrXoc7WsQoTbrx1QjgXY+6QgZHYCwjw\/T2yuv8p10zJ1O2QQcGbHleyz0l2xGqLXRKq1PI4qiKqLEcRwmJiYsu99kMqmKxlXzaYiJVAvEXBQEAS6XC5lMpiETkiw+9LM3ivYTZmhIjmS1yvRq5H6Wl+Wq7OvXbalhrBqPCIzf74ff7++IdqlHE9KaiGgB4mdYqXXtSxi7viPidAKLi7Z696de36JWlIyYP6urq8hms6ZyDvWg3iiZ2YAHMaFocmez2YYI43K5appctbB9y5OFxvR0+\/0pA2gFxAoQgRZFEQsLCx1\/tmrCS5tPhUIB2WxWcdbNOP60SUvOI4tQM\/O5nZHFnqShNUytyI1ZCIKgaBpt9r8Tz1YtTEyEWpIkRCIRJVdi1vHX8wFps87o2FqlOa0nDMmDdBNsQBq3260IViqVMu0om9UyhULBVGa7FaBDvnrE1dZ5eb1eeL1eVTi4mpYolUrKuC6XSzHfyGIhiqKKJLTGqlVJ0Vofpr+\/e99rv3hRftu0g2+cBgIBxONxFAoFhEIh+Hw+5Qu+dOmS6lit8AuCoLtaEi2zurqKVCql1JO1Ex6PR7mHdDoNSZLA8zwkSUKhUFDlnc6cOaMyT0k0MJvNqp6PLACiKCKbzSpahCQwCVFJhUEkEoHf74ckSUilUsrfa81FazXM9LR9omGNBAI6fP\/Dw8MKSUj9VzKZVCX+6JWa\/lRbgcPf5J9oYWk3wuGwokEzmQySyaSiST\/88ENFO2gjeURLaP0YMj+ZTAaSJIHjOAQCgYoKiVAopDw7uSbxlcyE2VunYc6elTVMK5DLqfMmvb2tydz398vPcepUx0gTDofh8\/mQTqeRz+fhcDiUFdjlcillHXqahP6X9omI4BQKhYqcBBlPTzuRv9FjVTu+2j263W7E43Gk02mlfMXj8WBgYAD5fB48z+uaR2NjY6rFwOfzVVybJDr1tMXw8DDcbjcymQzW1tbgcDjg9Xrh8\/lMaVrjd\/qvXwcOHWpc0JaXrSUIKaKslisZGnpYtGklgZrZDGRxcVNUTjN8g7IRFherFdJX\/ywuli2BKJbLwWBj9xAMyudbATvMBYMtYL0PMzRkzYp67py8a02jicTLl+Xzz52zzzMxdD2sJ8zZs82dXyzKJpBVW9OePy+P1+y7MM0+FwMjjK7v0sxKXCzKfpPVodyVFXncZkgzNNS6IAbDFiXMSy\/ZjyxWkuabkCTD1oW1YeVmsuPnz7c+SbiyIoeIG02mjo7KBZptwtfFIu7dNM6n7Ojpwbf7nzE11le5ddxfv13XeV+s3MJG6hr+vH4b93Pr2OF04pE+Abv7BDhHqm+c8fmN95X\/7+4TsNPpxBcrt\/BgY6OuOXj04AHd34s\/DGDPW29gp4k8WSPP3vooWX9\/Z6JQ7Y5cDQ217Vp\/uv5eeXmno+bnf\/9usPzx+QvlP9+9azjWx+cvKMf\/4YXvV73up5f\/vfzfT\/9t1WveeuJ75fxr\/2o4Bn3sn66\/Vy6Xy+U\/vPB9U89Df\/TwpZgrL+90VL1+o89eC9ZpGCqjWjfanRgcH298k\/Dp6fpeNmuD33PvZhb3bmbx6aXXseetN2qu\/tU0Wu6HAZTe+6DmsQ82NvDxP7+ML29lsfetN9v69eVflTe1+PTXr8MV+qcuNckadfavX29\/vRZJhDay0UarqgpMwP3KaQCARJk7tHA\/2NhA7kdj6P3tbN2k+bpYxEfDL6pMwB09PegZOQzu+eewq3cfHhSLkN77AHdmriim1Z23r+CRZwRTgvvY8WPgNCYWEX4AePz4MfzFvr01zas7b18BANxfv43PZn6DJ176cRcSptGVdGamM97bzEzX9W757i8iuoL+yaXXVYL3x5\/8FI6DB0zZ97Tg0mTp8R\/W9RGcI0fgfuU0Pv75y7jz9hU8NXnS9CqvJ9j0fT92\/Jihz6J3PPm5nYSxJkrmdDZepDg31xnp69R1rV7xnE589xcR7Em8odI0n1x63fQYX+XWVcc7nn8O\/O+ShoTb6XRi71tv4m\/+6z\/xvV\/9sq1BkI35a6rf3V+\/jeL81S4jTKPa5fr1zm6uZ6N3+JvFEy\/9GI7nn1N+vvuN2VKPT0DMsN7fmXu5rKloUwP45NLriim4izLdPq1jcbAHYZrxJTqJTdZd7cnJk6qV96vcuqnzSpRP1DNyuC5Trp3ahSbGnrfexI6eHsWPo8PY9ifMwYPdSZgu2zq2Fhwa+5\/kHmqBPu47\/h\/Y8tnoQMOufXvx6MEDqgWiXVqG7d6\/iWCFZthRZQw6QmU2KGEVPv31Q0KQaOFTkycVc3IjdQ1f5dbxrd59jDAM9sD99dsVUSoajx8\/1hKB\/WzmN6pMPYmK7XQ68fjxYwqJ86\/GWp4TssYkW19n0mQDmPVZqpKiiTHMmoD1giap4+ABfH7jfeXDUYGOO29fsWQOWq9hGvVFOl39u8mqj0sax3d3n7luXrv27VWEXXrvA8O8xu4+AU8vvKv63UfDL9Z9vbrczPmrKiJupK5hI3WtqunWylD39i0tsJusHTi9EpOCRzPoGTlsapXe6XTi0YMHlM8uTVa+FdG1ep35OzNX8HULgznWaJhG8xmkzKQT0bLe3k2lYW7\/5B9VK\/Fj\/3DM9LlP\/uykKnGZ+1EATy+8W5MAdACgx3\/Y8mf6\/Mb7qtIf4uzr4e7bV3B\/\/baStG1VAMI6pz+Xa2zFHh0FXnut\/RLWZWUxRvhi5Rbyr8ZUZsruPqGuosRv9e7DU5MPSXPvZhYfDb+I3t8mDZ34QvzfVBqtFeHo\/L9EVYSsRoJd+\/bijxM\/VbTSU5MnW6LxrCPMykpjhAmFOkOYLnwZ7P98f69ysPWc7B09PdiTqD9S5H7lNEo33lfqye7dzOJ\/\/tqLHv9hPNInwHHwAO7n1vHlrSw25q+pru14\/jnL67m+yq2rtAudczEyKz\/++ct4sLGBBxsb2Ji\/pntP925mVfNI4y9\/9cua1QvWEWZ+vvHq32CwvbvmB4ON+y9zc\/VVCDRzLa1TX6PsfnefgD2JNxsqWdnpdOLphXcryvuJk20UTt7dJ5gupWnGH6tVlLnT6cSTVF7GqCjzwcaG4TyaebnNOsI0U5d18WL7mrY6nc1taHHqVH0+19BQS4MLu\/sE7O57Bt\/x\/6Dh92Boofur9H\/gs5nfIP9qrGqYeEdPD56cPNkSX0GbIH3yZydNnff48WMKYVpV+m\/tRn7Ly4070nNzclOjVqOZjcZXVuQdaOpBF2\/k98XKLdy7eUtFnB09Pdjd\/0zNFX+zwtpM\/8xM44QZHZVXfqu2V9JDONzcvgOdenenQ\/h2\/zNtr0i2O6zNw1y+3JxZde5c69pMBIOy6dfs8zEwwliGYrH5F7Omp63fNZ+M2cnFgIERRhdWmFTBoDW2P2n4aoXWaqWpyLCFCZPLWbOfcX+\/TJrFxfrD1aOjD8+1Ipv\/2mu2a0vO0Bm0pt2F0ymv7FaGU4m5d\/Omfh6kvx\/o67M+jFssypuaN2qOsXYXmwqteR+mWJT3\/lpctG5Mp7MzfSfHxzvmu5w+fVrVAJXneXAcB4\/HA7\/fX9FpORJ5mBNxuVxKBy+9pkPknKmpKVVHM57nEQgEMDg4WHEsPT7HceB5Hm63G16vF8PDwxXjz87OGjaf9Xq9iMViFc\/K83xFO8LJyUmIooiBgQGcOXOmYqylpaWKzmwulws+n6+iJWE999Qek4zWUJ0oebESly\/bancZURSV3pShUKhqd+VCoaD0kIxEIlhaWqoQMrozMX2NaDRasy25JEnK+PF4HJOTk5Y0rhVFUTVOqVRS7lFv\/IWFBUSj0YrnIC38aJLbV8MQnDrVvbvek32YbQCy8uXzeaTTaSSTSUiShKmpKd0VMRqNgud5ZLNZxONxSJKERCKh0hqkOSrHcThz5gwEQUA2m8WFCxeU4\/W0BgBMTEzA4\/GgVCohlUphdXUVoigikUgo\/TO1uHq1+lZItCbNZrPKvdLt+UhnZZpMes+Rz+eRSCSQyWQgiiIWFhZ0nyUajdZsM94+DUNw6FD3Ocykk4DNwshutxtjY2NK2+5q\/eodDgcGBwcVgaCFbW1tTfmZNtcEQVD6UUqSVKGVCDweDwRBwODgIGKxmNKolfThtELL6BFJSxi6W\/LExITyHKSHJ8dxhuaofaJkesJ39Gj35DBsShYadFPWRkCbckTYCWjhEk3uP006PWvHbuR+tFpF2w2aNsvo+\/N4PBULxjvvvINwOFzRidnehCHmjc2FUEUWG+9XViqVlJbb2g7IescSgaM7EtMrtbZzMC142hW9muarl2Raf4heCGitoudjmSFMd0XJjEjD89blRlpxf0eP2tJ8LBQKmJ2dhSiKKjPE7\/frHj81NQWO4yCKonKsUXtyvdbeBGbNKzMmz5EjRwz9B6I1CGEKhYJKs\/A8D0mSdH0YvUVCSzISWdRCGxAIBAIYGxuzCWHoFfzixc6EiI0wN9fR8LEZwtChUI7j4Pf7Db9cIjAcxyEQCMDn8xmaJWZ607cj+keTL51OqwgjCILid62trVUlqCiKFUQwEy62n4ahSTM+Dty4IROnk9uSFotyyYvNw98kp8DzPBwOR80VfWBgAJlMBpIkKbmYalqkWRvfjCaqFSXTajythiF+DtGYRuA4TvHLaA2rB3tGyYxA2oJ3qgJ4bk5+t6ULckUulwtjY2OqqFc1+P1+xbxJJBJV8yPV\/BSzfoFZX8cIhBwk+kb8GOLL0M9MX0uP6B6PB7FYDLFYrKq5aW+nv5a2OXSofTvpk5Ifm\/orVoHkQyRJqshs04Kk1Q70yl4rqKAX5WomhEt8Dfq6REOScen7paOF2mgaTS4rzc7ttvh2iRDv39+aMvpiUR53\/\/72krODEARBMU1SqZRKqGnNkU6nDQljRvhJ8pIIfCOrulZD0dfV3gNtYtF\/I5FD+jnIuNrQeXf5MLUiVePj8md0VO6b2WgxZS4nE2N+ftM0T2pEy0xMTCiRM+L4kvovYvbMzs4qjjXRRi6Xy5AwxCmXJAnpdFoVtTNazbUagI5cEcEmmoXneYUAWgJqAwQulwuFQgGpVAocx6ky\/WRMkuitphmrRdPsSxitj0EEnWz4R9pq6FX\/Eq1x44ZMFlaOD7fbDb\/fr5Sv0CUiJ06cQCQSUUw2rdlmVOKip5UIWaqFZI0iV7R\/RYRVEATlfghpjZK14XBYKefRe46JiQnDoAYhVT3RtO7YvZ8QgJBii7zMRQTIjPNNR4doHyAQCCgr6erqqkIYj8eDeDxeYa4RkmmvSY9PH8vzPAYGBnSF0uVyGZpDtHbR3jdtTtJzQH5HR\/YEQUA8HkcymVT5N0ZV2mbuqRpa8z4Mw0Ow92E2FbazKWBgYIRhYGCEYWDoNIx9GADYto3NULO4e7ez5T8MbdQwdiqQ7EYEg4wsW0rD5HJydpxtYFc\/WrFzDoPNNUxvrxwWZatk\/WSZnmZk2ZJOP9lQj+USzGFoqLHNBxk2gUmmxcrKlq3LMoXR0U3XmZmhGcIwMDCTjIGBgRGGgYERhoGBEYaBgRGGgYERhoFhi+P\/AQs6rmqpABgWAAAAAElFTkSuQmCC";
	var loading = "data:image/gif;base64,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";

	var content = "<a class=\"modal_close\" href=\"#\" onclick=\"fecharPopup();\">X<\/a>\r\n<img class=\"signa-content__logo\" src=\" " + logo +"\">\r\n<hr>\r\n<div class=\"signa-content__info\">\r\n   <img id=\"loading\" src=\""+loading +"\" style=\"margin-bottom: 8px;\">\r\n   <p id=\"statusMessage\" style=\"margin: 0px;\">Carregando componente de Certifica&ccedil;&atilde;o Digital<\/p>\r\n<\/div>\r\n<hr>\r\n<p id=\"countdown\" \/>";

	var modalOverlay = document.createElement('div');
	var modalContent = document.createElement('div');

	var defaultSettings = {
		width : '400',
		height : '280',
		openCallback : false,
		closeCallback : false
	};

	// Open the modal
	method.open = function() {

	 modalContent.innerHTML = content;

		settings.width = defaultSettings.width;
		settings.height = defaultSettings.height;
		settings.closeCallback = defaultSettings.closeCallback;
		settings.openCallback = defaultSettings.openCallback;
		settings.idDiv = 'signa-content';
		settings.overlay = 'signa-overlay';

		modalOverlay.style.display = 'block';
		modalOverlay.style.opacity = '0.5';
		modalOverlay.style.filter = 'alpha(opacity=50)';

		modalContent.style.display = 'block';
		modalContent.style.position = 'absolute';
		// document.getElementById(settings.idDiv).style.opacity = 0;
		modalContent.style.zIndex = 16777271;
		modalContent.style.left = 50 + '%';
		modalContent.style.marginLeft = -(settings.width / 2) + 'px';
		modalContent.style.top = '200px';

	};

	// Perform XMLHTTPRequest
	method.ajax = function(url, successCallback) {
		var i, XMLHttpRequestObject = false, XMLHttpRequestObjects = [
				function() {
					return new window.XMLHttpRequest(); // IE7+, Firefox,
														// Chrome, Opera, Safari
				}, function() {
					return new window.ActiveXObject('Msxml2.XMLHTTP.6.0');
				}, function() {
					return new window.ActiveXObject('Msxml2.XMLHTTP.3.0');
				}, function() {
					return new window.ActiveXObject('Msxml2.XMLHTTP');
				} ];

		for (i = 0; i < XMLHttpRequestObjects.length; i += 1) {
			try {
				XMLHttpRequestObject = XMLHttpRequestObjects[i]();
			} catch (ignore) {
			}

			if (XMLHttpRequestObject !== false) {
				break;
			}
		}

		XMLHttpRequestObject.open('GET', url, true);

		XMLHttpRequestObject.onreadystatechange = function() {
			if (XMLHttpRequestObject.readyState === 4) {
				if (XMLHttpRequestObject.status === 200) {
					successCallback(XMLHttpRequestObject.responseText);
					// modalContainer.removeAttribute('class');
				} else {
					successCallback(XMLHttpRequestObject.responseText);
					// modalContainer.removeAttribute('class');
				}
			}
		};
		XMLHttpRequestObject.send(null);
	};

	// Close the modal
	method.close = function() {
		modalOverlay.style.display = 'none';
		modalContent.style.display = 'none';

		if (settings.closeCallback) {
			settings.closeCallback();
		}
	};

	// Set the id's, append the nested elements, and append the complete modal
	// to the document body
	modalOverlay.setAttribute('id', 'signa-overlay');
	modalContent.setAttribute('id', 'signa-content');

	if (window.addEventListener) {
		window.addEventListener('load', function() {
			document.body.appendChild(modalOverlay);
			document.body.appendChild(modalContent);
		}, false);
	} else if (window.attachEvent) {
		window.attachEvent('onload', function() {
			document.body.appendChild(modalOverlay);
			document.body.appendChild(modalContent);
		});
	}
	return method;
}());


//JSON2.js
if (typeof JSON !== 'object') {
    JSON = {};
}

(function () {
    'use strict';

    var rx_one = /^[\],:{}\s]*$/,
        rx_two = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
        rx_three = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
        rx_four = /(?:^|:|,)(?:\s*\[)+/g,
        rx_escapable = /[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        rx_dangerous = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;

    function f(n) {
        // Format integers to have at least two digits.
        return n < 10
            ? '0' + n
            : n;
    }

    function this_value() {
        return this.valueOf();
    }

    if (typeof Date.prototype.toJSON !== 'function') {

        Date.prototype.toJSON = function () {

            return isFinite(this.valueOf())
                ? this.getUTCFullYear() + '-' +
                        f(this.getUTCMonth() + 1) + '-' +
                        f(this.getUTCDate()) + 'T' +
                        f(this.getUTCHours()) + ':' +
                        f(this.getUTCMinutes()) + ':' +
                        f(this.getUTCSeconds()) + 'Z'
                : null;
        };

        Boolean.prototype.toJSON = this_value;
        Number.prototype.toJSON = this_value;
        String.prototype.toJSON = this_value;
    }

    var gap,
        indent,
        meta,
        rep;


    function quote(string) {

// If the string contains no control characters, no quote characters, and no
// backslash characters, then we can safely slap some quotes around it.
// Otherwise we must also replace the offending characters with safe escape
// sequences.

        rx_escapable.lastIndex = 0;
        return rx_escapable.test(string)
            ? '"' + string.replace(rx_escapable, function (a) {
                var c = meta[a];
                return typeof c === 'string'
                    ? c
                    : '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
            }) + '"'
            : '"' + string + '"';
    }


    function str(key, holder) {

// Produce a string from holder[key].

        var i,          // The loop counter.
            k,          // The member key.
            v,          // The member value.
            length,
            mind = gap,
            partial,
            value = holder[key];

// If the value has a toJSON method, call it to obtain a replacement value.

        if (value && typeof value === 'object' &&
                typeof value.toJSON === 'function') {
            value = value.toJSON(key);
        }

// If we were called with a replacer function, then call the replacer to
// obtain a replacement value.

        if (typeof rep === 'function') {
            value = rep.call(holder, key, value);
        }

// What happens next depends on the value's type.

        switch (typeof value) {
        case 'string':
            return quote(value);

        case 'number':

// JSON numbers must be finite. Encode non-finite numbers as null.

            return isFinite(value)
                ? String(value)
                : 'null';

        case 'boolean':
        case 'null':

// If the value is a boolean or null, convert it to a string. Note:
// typeof null does not produce 'null'. The case is included here in
// the remote chance that this gets fixed someday.

            return String(value);

// If the type is 'object', we might be dealing with an object or an array or
// null.

        case 'object':

// Due to a specification blunder in ECMAScript, typeof null is 'object',
// so watch out for that case.

            if (!value) {
                return 'null';
            }

// Make an array to hold the partial results of stringifying this object value.

            gap += indent;
            partial = [];

// Is the value an array?

            if (Object.prototype.toString.apply(value) === '[object Array]') {

// The value is an array. Stringify every element. Use null as a placeholder
// for non-JSON values.

                length = value.length;
                for (i = 0; i < length; i += 1) {
                    partial[i] = str(i, value) || 'null';
                }

// Join all of the elements together, separated with commas, and wrap them in
// brackets.

                v = partial.length === 0
                    ? '[]'
                    : gap
                        ? '[\n' + gap + partial.join(',\n' + gap) + '\n' + mind + ']'
                        : '[' + partial.join(',') + ']';
                gap = mind;
                return v;
            }

// If the replacer is an array, use it to select the members to be stringified.

            if (rep && typeof rep === 'object') {
                length = rep.length;
                for (i = 0; i < length; i += 1) {
                    if (typeof rep[i] === 'string') {
                        k = rep[i];
                        v = str(k, value);
                        if (v) {
                            partial.push(quote(k) + (
                                gap
                                    ? ': '
                                    : ':'
                            ) + v);
                        }
                    }
                }
            } else {

// Otherwise, iterate through all of the keys in the object.

                for (k in value) {
                    if (Object.prototype.hasOwnProperty.call(value, k)) {
                        v = str(k, value);
                        if (v) {
                            partial.push(quote(k) + (
                                gap
                                    ? ': '
                                    : ':'
                            ) + v);
                        }
                    }
                }
            }

// Join all of the member texts together, separated with commas,
// and wrap them in braces.

            v = partial.length === 0
                ? '{}'
                : gap
                    ? '{\n' + gap + partial.join(',\n' + gap) + '\n' + mind + '}'
                    : '{' + partial.join(',') + '}';
            gap = mind;
            return v;
        }
    }

// If the JSON object does not yet have a stringify method, give it one.

    if (typeof JSON.stringify !== 'function') {
        meta = {    // table of character substitutions
            '\b': '\\b',
            '\t': '\\t',
            '\n': '\\n',
            '\f': '\\f',
            '\r': '\\r',
            '"': '\\"',
            '\\': '\\\\'
        };
        JSON.stringify = function (value, replacer, space) {

// The stringify method takes a value and an optional replacer, and an optional
// space parameter, and returns a JSON text. The replacer can be a function
// that can replace values, or an array of strings that will select the keys.
// A default replacer method can be provided. Use of the space parameter can
// produce text that is more easily readable.

            var i;
            gap = '';
            indent = '';

// If the space parameter is a number, make an indent string containing that
// many spaces.

            if (typeof space === 'number') {
                for (i = 0; i < space; i += 1) {
                    indent += ' ';
                }

// If the space parameter is a string, it will be used as the indent string.

            } else if (typeof space === 'string') {
                indent = space;
            }

// If there is a replacer, it must be a function or an array.
// Otherwise, throw an error.

            rep = replacer;
            if (replacer && typeof replacer !== 'function' &&
                    (typeof replacer !== 'object' ||
                    typeof replacer.length !== 'number')) {
                throw new Error('JSON.stringify');
            }

// Make a fake root object containing our value under the key of ''.
// Return the result of stringifying the value.

            return str('', {'': value});
        };
    }


// If the JSON object does not yet have a parse method, give it one.

    if (typeof JSON.parse !== 'function') {
        JSON.parse = function (text, reviver) {

// The parse method takes a text and an optional reviver function, and returns
// a JavaScript value if the text is a valid JSON text.

            var j;

            function walk(holder, key) {

// The walk method is used to recursively walk the resulting structure so
// that modifications can be made.

                var k, v, value = holder[key];
                if (value && typeof value === 'object') {
                    for (k in value) {
                        if (Object.prototype.hasOwnProperty.call(value, k)) {
                            v = walk(value, k);
                            if (v !== undefined) {
                                value[k] = v;
                            } else {
                                delete value[k];
                            }
                        }
                    }
                }
                return reviver.call(holder, key, value);
            }


// Parsing happens in four stages. In the first stage, we replace certain
// Unicode characters with escape sequences. JavaScript handles many characters
// incorrectly, either silently deleting them, or treating them as line endings.

            text = String(text);
            rx_dangerous.lastIndex = 0;
            if (rx_dangerous.test(text)) {
                text = text.replace(rx_dangerous, function (a) {
                    return '\\u' +
                            ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
                });
            }

// In the second stage, we run the text against regular expressions that look
// for non-JSON patterns. We are especially concerned with '()' and 'new'
// because they can cause invocation, and '=' because it can cause mutation.
// But just to be safe, we want to reject all unexpected forms.

// We split the second stage into 4 regexp operations in order to work around
// crippling inefficiencies in IE's and Safari's regexp engines. First we
// replace the JSON backslash pairs with '@' (a non-JSON character). Second, we
// replace all simple value tokens with ']' characters. Third, we delete all
// open brackets that follow a colon or comma or that begin the text. Finally,
// we look to see that the remaining characters are only whitespace or ']' or
// ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.

            if (
                rx_one.test(
                    text
                        .replace(rx_two, '@')
                        .replace(rx_three, ']')
                        .replace(rx_four, '')
                )
            ) {

// In the third stage we use the eval function to compile the text into a
// JavaScript structure. The '{' operator is subject to a syntactic ambiguity
// in JavaScript: it can begin a block or an object literal. We wrap the text
// in parens to eliminate the ambiguity.

                j = eval('(' + text + ')');

// In the optional fourth stage, we recursively walk the new structure, passing
// each name/value pair to a reviver function for possible transformation.

                return typeof reviver === 'function'
                    ? walk({'': j}, '')
                    : j;
            }

// If the text is not JSON parseable, then a SyntaxError is thrown.

            throw new SyntaxError('JSON.parse');
        };
    }
}());

/*
 * Copyright (c) 2006, 2016, Oracle and/or its affiliates. All rights reserved.
 * ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 *   - Redistributions of source code must retain the above copyright
 *     notice, this list of conditions and the following disclaimer.
 *
 *   - Redistributions in binary form must reproduce the above copyright
 *     notice, this list of conditions and the following disclaimer in the
 *     documentation and/or other materials provided with the distribution.
 *
 *   - Neither the name of Oracle nor the names of its
 *     contributors may be used to endorse or promote products derived
 *     from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

/*
 * deployJava.js
 *
 * This file is part of the Deployment Toolkit.  It provides functions for web
 * pages to detect the presence of a JRE and easily run
 * applets or Web Start programs.  More Information on usage of the
 * Deployment Toolkit can be found in the Deployment Guide at:
 * https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/
 *
 * The "live" copy of this file may be found at :
 * http://java.com/js/deployJava.js.
 * For web pages provisioned using https, you may want to access the copy at:
 * https://java.com/js/deployJava.js.
 *
 * You are encouraged to link directly to the live copies.
 * The above files are stripped of comments and whitespace for performance,
 * You can access this file w/o the whitespace and comments removed at:
 * https://java.com/js/deployJava.txt.
 *
 */

/*    The following regular expression is used as the base for the parsing
 *    of the version string. The version string could be either in the old format
 *    (1.7.0_65, 1.7.0, 1.7) or in the new format (9.1.2.3, 9.1.2, 9.1, 9)
 *    and must include only VNUM parts of the version string (the full
 *    version string format is $VNUM(-$PRE)?(\+$BUILD)?(-$OPT)?, see JEP 223 for more details) 
 *
 *    ^               - Beginning of the string
 *      (             - Capturing group 1
 *        \\d+        - Match any digit one or more times
 *     )              - Match once
 *     (?:            - Non capturing group
 *       \\.          - Match '.' character
 *       (            - Capturing group 2
 *         \\d+       - Match any digit one or more times
 *       )            - Match once
 *       (?:          - Non capturing group
 *         \\.        - Match '.' character
 *         (          - Capturing group 3
 *           \\d+     - Match any digit one or more times
 *         )          - Match once
 *         (?:        - Non capturing group
 *	     [_\\.]   - Math '_' (old version format) or '.' (new version format)
 *           (        - Capturing group 4
 *             \\d+   - Match any digit one or more times
 *           )        - Match once
 *         )?         - Match zero or one time
 *       )?           - Match zero or one time
 *     )?             - Match zero or one time
 *
 *            
 *
 */

var version_regex_base        = "^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:[_\\.](\\d+))?)?)?";

/*
*           version_regex_base - see version_regex_base comment above
*           $                  - End of the string 
* 
*/


var version_regex_strict      = version_regex_base + "$";

/*
*           version_regex_base - see version_regex_base comment above
*           (                  - Capturing group 5
*             \\*              - Match '*'
*             |                - OR
*             \\+              - Match '+'
*           )?                 - Match zero or one time 
*           $                  - End of string 
* 
*/
var version_regex_with_family_modifier = version_regex_base + "(\\*|\\+)?$";


var deployJava = function() {
    /** HTML attribute filter implementation */
    var hattrs = {
        core: [ 'id', 'class', 'title', 'style' ],
        i18n: [ 'lang', 'dir' ],
        events: [ 'onclick', 'ondblclick', 'onmousedown', 'onmouseup',
            'onmouseover', 'onmousemove', 'onmouseout', 'onkeypress',
            'onkeydown', 'onkeyup' ],
        applet: [ 'codebase', 'code', 'name', 'archive', 'object',
            'width', 'height', 'alt', 'align', 'hspace', 'vspace' ],
        object: [ 'classid', 'codebase', 'codetype', 'data', 'type',
            'archive', 'declare', 'standby', 'height', 'width', 'usemap',
            'name', 'tabindex', 'align', 'border', 'hspace', 'vspace' ]
    };

    var object_valid_attrs = hattrs.object.concat(hattrs.core, hattrs.i18n,
        hattrs.events);
    var applet_valid_attrs = hattrs.applet.concat(hattrs.core);

    // startsWith() is not supported by IE
    if(typeof String.prototype.startsWith !== 'function') {
       String.prototype.startsWith = function(searchString, position) {
           position = position || 0;
           return this.indexOf(searchString, position) === position;
        }
    }

    // generic log function, use console.log unless it isn't available
    // then revert to alert()
    function log(message) {
        if ( ! rv.debug ) {return};

        if (console.log) {
            console.log(message);
        } else {
            alert(message);
        }
    }
    
    function showMessageBox() {
        var message = 'Java Plug-in is not supported by this browser. <a href="https://java.com/dt-redirect">More info</a>';
        var mbStyle = 'background-color: #ffffce;text-align: left;border: solid 1px #f0c000; padding: 1.65em 1.65em .75em 0.5em; font-family: Helvetica, Arial, sans-serif; font-size: 75%; bottom:0; left:0; right:0; position:fixed; margin:auto; opacity:0.9; width:400px;';
        var messageStyle = "border: .85px; margin:-2.2em 0 0.55em 2.5em;";
        var closeButtonStyle = "margin-left:10px;font-weight:bold;float:right;font-size:22px;line-height:20px;cursor:pointer;color:red;"
        var messageBox = '<span style="'+ closeButtonStyle +'" onclick="this.parentElement.style.display=\'none\';">&times;</span><img src="https://java.com/js/alert_16.png"><div style="'+ messageStyle +'"><p>'+ message + '</p>';
        
        
        var divTag = document.createElement("div");
        divTag.id = "messagebox";
        divTag.setAttribute('style', mbStyle);
        divTag.innerHTML = messageBox;
        document.body.appendChild(divTag);              

    }

    //checks where given version string matches query
    //
    //NB: assume format is correct. Can add format check later if needed
    // from dtjava.js
    function versionCheckEx(query, version) {
        if (query == null || query.length == 0) return true;

        var c = query.charAt(query.length - 1);

        //if it is not explicit pattern but does not have update version then need to append *
        if (c != '+' && c != '*' && (query.indexOf('_') != -1 && c != '_')) {
            query = query + "*";
            c = '*';
        }

        query = query.substring(0, query.length - 1);
        //if query ends with ".", "_" then we want to strip it to allow match of "1.6.*" to shorter form such as "1.6"
        //TODO: add support for match of "1.7.0*" to "1.7"?
        if (query.length > 0) {
            var z = query.charAt(query.length - 1);
            if (z == '.' || z == '_') {
                query = query.substring(0, query.length - 1);
            }
        }
        if (c == '*') {
            //it is match if version starts from it
            return (version.indexOf(query) == 0);
        } else if (c == '+') {
            //match if query string is lexicographically smaller
            return query <= version;
        }
        return false;
    }

    function doVersionCheck(versionPattern, formatCheckOnly)
    {
        var index = 0;

        var matchData = versionPattern.match(version_regex_with_family_modifier);
        if (matchData != null) {
            if(formatCheckOnly && isNoPluginWebBrowser()) {
               return true;    
            }            
            // default is exact version match
            // examples:
            //    local machine has 1.7.0_04 only installed
            //    exact match request is "1.7.0_05":  return false
            //    family match request is "1.7.0*":   return true
            //    minimum match request is "1.6+":    return true
            var familyMatch = false;
            var minMatch = false;

            var patternArray = new Array();

            for (var i = 1; i < matchData.length; ++i) {
                // browser dependency here.
                // Fx sets 'undefined', IE sets '' string for unmatched groups
                if ((typeof matchData[i] == 'string') && (matchData[i] != '')) {
                    patternArray[index] = matchData[i];
                    index++;
                }
            }

            if (patternArray[patternArray.length-1] == '+') {
                // + specified in request - doing a minimum match
                minMatch = true;
                familyMatch = false;
                patternArray.length--;
            } else if (patternArray[patternArray.length-1] == '*') {
                // * specified in request - doing a family match
                minMatch = false;
                familyMatch = true;
                patternArray.length--;
            } else if (patternArray.length < 4) {
                // versionPattern does not include all four version components
                // and does not end with a star or plus, it will be treated as 
                // if it ended with a star. (family match)
                minMatch = false;
                familyMatch = true;
            }

            var list = deployJava.getJREs();
            for (var i = 0; i < list.length; ++i) {
                if (deployJava.compareVersionToPattern(list[i], patternArray,
                                                 familyMatch, minMatch)) {
                    return true;
                }
            }

            return false;
        } else {
            var msg = 'Invalid versionPattern passed to versionCheck: ' +
                  versionPattern;
            log('[versionCheck()] ' + msg);
            alert(msg);
            return false;
        }
   }

   function isWebStartFound () {
        return doVersionCheck('1.7.0+', false);
   }

    function isAbsoluteUrl(url) {
        var protocols = ["http://", "https://", "file://"];
        for (var i=0; i < protocols.length; i++) {
            if(url.toLowerCase().startsWith(protocols[i])) {
         	return true;;
	    }
        }
        return false;
     }

    function getAbsoluteUrl(jnlp){
        var absoluteUrl;
        if(isAbsoluteUrl(jnlp)) {
            absoluteUrl = jnlp;
        } else {
            var location = window.location.href;
            var pos = location.lastIndexOf('/');
            var docbase =  pos > -1 ? location.substring(0, pos + 1) : location + '/';
	    absoluteUrl = docbase + jnlp;
        }
        return absoluteUrl;
    }

    function launchWithJnlpProtocol(jnlp) {
        document.location="jnlp:"+ getAbsoluteUrl(jnlp);
    }

    function isNoPluginWebBrowser() {
        var browser = deployJava.getBrowser();
        if (browser == "Edge" || deployJava.browserName2 == 'Chrome' || deployJava.browserName2 == 'NoActiveX') {
            return true;  
        }
        return false;
    }

    function getWebStartLaunchIconURL() {
        var imageUrl = '//java.com/js/webstart.png';
        try {
            // for http/https; use protocol less url; use http for all other protocol
            return document.location.protocol.indexOf('http') != -1 ? 
                imageUrl : 'https:' + imageUrl;
        } catch (err) {
            return 'https:' + imageUrl;
        }
    }

     // GetJava page
     function constructGetJavaURL(query) {
	    
	var getJavaURL = 'https://java.com/dt-redirect';

	if (query == null || query.length == 0) return getJavaURL;
	if(query.charAt(0) == '&')
	{
	   query = query.substring(1, query.length);	
	}
	return getJavaURL + '?'+  query;
    }

    function arHas(ar, attr) {
        var len = ar.length;
        for (var i = 0; i < len; i++) {
            if (ar[i] === attr) return true;
        }
        return false;
    }

    function isValidAppletAttr(attr) {
        return arHas(applet_valid_attrs, attr.toLowerCase());
    }

    function isValidObjectAttr(attr) {
        return arHas(object_valid_attrs, attr.toLowerCase());
    }

    /** 
     * returns true if we can enable DT plugin auto-install without chance of
     * deadlock on cert mismatch dialog
     *
     * requestedJREVersion param is optional - if null, it will be
     * treated as installing any JRE version
     * 
     * DT plugin for 6uX only knows about JRE installer signed by SUN cert.
     * If it encounter Oracle signed JRE installer, it will have chance of
     * deadlock when running with IE.  This function is to guard against this.
     */
    function enableWithoutCertMisMatchWorkaround(requestedJREVersion) {

       // Non-IE browser are okay
       if ('MSIE' != deployJava.browserName) return true;

       // if DT plugin is 10.0.0 or above, return true
       // This is because they are aware of both SUN and Oracle signature and
       // will not show cert mismatch dialog that might cause deadlock
       if (deployJava.compareVersionToPattern(deployJava.getPlugin().version, 
                                     ["10", "0", "0"], false, true)) {
          return true;
       }

       // If we got there, DT plugin is 6uX

       if (requestedJREVersion  == null) {
          // if requestedJREVersion is not defined - it means ANY.
          // can not guarantee it is safe to install ANY version because 6uX 
          // DT does not know about Oracle certificates and may deadlock
          return false;
       }

       // 6u32 or earlier JRE installer used Sun certificate
       // 6u33+ uses Oracle's certificate
       // DT in JRE6 does not know about Oracle certificate => can only 
       // install 6u32 or earlier without risk of deadlock
       return !versionCheckEx("1.6.0_33+", requestedJREVersion);
    }

    /* HTML attribute filters */

    var rv = {

    debug: null,

    /* version of deployJava.js */
    version: "20120801",

    firefoxJavaVersion: null,
    useStaticMimeType: false,

    myInterval: null,
    preInstallJREList: null,
    returnPage: null,
    brand: null,
    locale: null,
    installType: null,

    EAInstallEnabled: false,
    EarlyAccessURL: null,


    // mime-type of the DeployToolkit plugin object
    oldMimeType: 'application/npruntime-scriptable-plugin;DeploymentToolkit',
    mimeType: 'application/java-deployment-toolkit',

    /* location of the Java Web Start launch button graphic is right next to
     * deployJava.js at: 
     *    https://java.com/js/webstart.png
     *
     * Use protocol less url here for http/https support
     */
    launchButtonPNG: getWebStartLaunchIconURL(),

    browserName: null,
    browserName2: null,

    /**
     * Returns an array of currently-installed JRE version strings.
     * Version strings are of the form #.#[.#[_#]], with the function returning
     * as much version information as it can determine, from just family
     * versions ("1.4.2", "1.5") through the full version ("1.5.0_06").
     *
     * Detection is done on a best-effort basis.  Under some circumstances
     * only the highest installed JRE version will be detected, and
     * JREs older than 1.4.2 will not always be detected.
     */
    getJREs: function() {
        var list = new Array();
        if (this.isPluginInstalled()) {
            var plugin =  this.getPlugin();
            var VMs = plugin.jvms;
            for (var i = 0; i < VMs.getLength(); i++) {
                list[i] = VMs.get(i).version;
            }
        } else {
            var browser = this.getBrowser();

            if (browser == 'MSIE') {
                if (this.testUsingActiveX('9')) {
                    list[0] = '9';
                } else if (this.testUsingActiveX('1.8.0')) {
                    list[0] = '1.8.0';
                } else if (this.testUsingActiveX('1.7.0')) {
                    list[0] = '1.7.0';
                } else if (this.testUsingActiveX('1.6.0')) {
                    list[0] = '1.6.0';
                } else if (this.testUsingActiveX('1.5.0')) {
                    list[0] = '1.5.0';
                } else if (this.testUsingActiveX('1.4.2')) {
                    list[0] = '1.4.2';
                } else if (this.testForMSVM()) {
                    list[0] = '1.1';
                }
            } else if (browser == 'Netscape Family') {
                this.getJPIVersionUsingMimeType();
                if (this.firefoxJavaVersion != null) {
                    list[0] = this.firefoxJavaVersion;
                } else if (this.testUsingMimeTypes('9')) {
                    list[0] = '9';
                } else if (this.testUsingMimeTypes('1.8')) {
                    list[0] = '1.8.0';
                } else if (this.testUsingMimeTypes('1.7')) {
                    list[0] = '1.7.0';
                } else if (this.testUsingMimeTypes('1.6')) {
                    list[0] = '1.6.0';
                } else if (this.testUsingMimeTypes('1.5')) {
                    list[0] = '1.5.0';
                } else if (this.testUsingMimeTypes('1.4.2')) {
                    list[0] = '1.4.2';
                } else if (this.browserName2 == 'Safari') {
                    if (this.testUsingPluginsArray('9')) {
                        list[0] = '9';
                    } else if (this.testUsingPluginsArray('1.8')) {
                        list[0] = '1.8.0';
                    } else if (this.testUsingPluginsArray('1.7')) {
                        list[0] = '1.7.0';
                    } else if (this.testUsingPluginsArray('1.6')) {
                        list[0] = '1.6.0';
                    } else if (this.testUsingPluginsArray('1.5')) {
                        list[0] = '1.5.0';
                    } else if (this.testUsingPluginsArray('1.4.2')) {
                        list[0] = '1.4.2';
                    }
                }
            }
        }

        if (this.debug) {
            for (var i = 0; i < list.length; ++i) {
                log('[getJREs()] We claim to have detected Java SE ' + list[i]);
            }
        }

        return list;
    },

    /**
     * Calls this.installLatestJRE() if the requested version of JRE is not installed.
     *
     * The requestVersion string is of the form #[.#[.#[_#]]][+|*],
     * which includes strings such as "1.4", "1.5.0*", and "1.6.0_02+".
     * A star (*) means "any version starting within this family" and
     * a plus (+) means "any version greater or equal to this".
     * "1.5.0*" * matches 1.5.0_06 but not 1.6.0_01, whereas
     * "1.5.0+" matches both.
     *
     */
    installJRE: function(requestVersion) {
        log ("The Deployment Toolkit installJRE()  method no longer installs JRE. It just checks " +
             "if the requested version of JRE is installed and calls installLatestJRE() otherwise. " +
             "More Information on usage of the Deployment Toolkit can be found in the "+
             "Deployment Guide at https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/");
        if (requestVersion == 'undefined' || requestVersion == null) {
            requestVersion = '1.1';
        }


        var matchData = requestVersion.match(version_regex_with_family_modifier);

        if (matchData == null){
           log('Invalid requestVersion argument to installJRE(): ' + requestVersion);
           requestVersion="1.6"; 
        }
        if(!this.versionCheck(requestVersion)){
            return this.installLatestJRE();
        }
      
        return true;
    },

    /** 
     * returns true if jre auto install for the requestedJREVersion is enabled 
     * for the local system; false otherwise
     *
     * requestedJREVersion param is optional - if not specified, it will be
     * treated as installing any JRE version
     * 
     * DT plugin for 6uX only knows about JRE installer signed by SUN cert.
     * If it encounter Oracle signed JRE installer, it will have chance of
     * deadlock when running with IE.  This function is to guard against this.
     */
    isAutoInstallEnabled: function(requestedJREVersion) {
       // if no DT plugin, return false
       if (!this.isPluginInstalled()) return false;

       if (typeof requestedJREVersion  == 'undefined') {
           requestedJREVersion = null;
       }

       return enableWithoutCertMisMatchWorkaround(requestedJREVersion);

    },

    /** 
     * returns true if jre install callback is supported
     * callback support is added since dt plugin version 10.2.0 or above
     */
    isCallbackSupported: function() {
       return this.isPluginInstalled() && 
          this.compareVersionToPattern(this.getPlugin().version, 
                                       ["10", "2", "0"], false, true);
    },

    /**
     * Redirects the browser window to the java.com JRE installation page,
     * and (if possible) redirects back to the current URL upon successful
     * installation, if the installed version of JRE is below the security 
     * baseline or Deployment Toolkit plugin is not installed or disabled.
     *
     */
    installLatestJRE: function() {
        log ("The Deployment Toolkit installLatestJRE() method no longer installs JRE. If user's version of "+ 
             "Java is below the security baseline it redirects user to java.com to get an updated JRE. " +
             "More Information on usage of the Deployment Toolkit can be found in the Deployment Guide at " +
             "://docs.oracle.com/javase/8/docs/technotes/guides/deploy/");
    
        if (!this.isPluginInstalled() || !this.getPlugin().installLatestJRE()) { 
                var browser = this.getBrowser();
                var platform = navigator.platform.toLowerCase();
                if (browser == 'MSIE') {
                    return this.IEInstall();
                } else if ((browser == 'Netscape Family') &&
                           (platform.indexOf('win32') != -1)) {
                    return this.FFInstall();
                } else {
                    location.href = constructGetJavaURL(
                        ((this.returnPage != null) ?
                        ('&returnPage=' + this.returnPage) : '') +
                        ((this.locale != null) ?
                        ('&locale=' + this.locale) : '') +
                        ((this.brand != null) ?
                         ('&brand=' + this.brand) : ''));
                }
                // we have to return false although there may be an install
                // in progress now, when complete it may go to return page
                return false;
	}
	return true;
    },


    /**
     * Ensures that an appropriate JRE is installed and then runs an applet.
     * minimumVersion is of the form #[.#[.#[_#]]], and is the minimum
     * JRE version necessary to run this applet.  minimumVersion is optional,
     * defaulting to the value "1.1" (which matches any JRE).
     * If an equal or greater JRE is detected, runApplet() will call
     * writeAppletTag(attributes, parameters) to output the applet tag,
     * otherwise it will call installJRE(minimumVersion + '+').
     *
     * After installJRE() is called, the script will attempt to detect that the
     * JRE installation has completed and begin running the applet, but there
     * are circumstances (such as when the JRE installation requires a browser
     * restart) when this cannot be fulfilled.
     *
     * As with writeAppletTag(), this function should only be called prior to
     * the web page being completely rendered.  Note that version wildcards
     * (star (*) and plus (+)) are not supported, and including them in the
     * minimumVersion will result in an error message.
     */
    runApplet: function(attributes, parameters, minimumVersion) {
        if (minimumVersion == 'undefined' || minimumVersion == null) {
            minimumVersion = '1.1';
        }


        var matchData = minimumVersion.match(version_regex_strict);

        if (this.returnPage == null) {
            // if there is an install, come back here and run the applet
            this.returnPage = document.location;
        }

        if (matchData != null) {
            var browser = this.getBrowser();
            if (browser != '?') {
                if(isNoPluginWebBrowser()){
                    var readyStateCheck = setInterval(function() {
                        if(document.readyState  == "complete"){
                            clearInterval(readyStateCheck);
                            showMessageBox();
                        }
                    }, 15);
                log('[runApplet()] Java Plug-in is not supported by this browser');
                return;
	        } 

                if (this.versionCheck(minimumVersion + '+')) {
                    this.writeAppletTag(attributes, parameters);
                } else if (this.installJRE(minimumVersion + '+')) {
                    this.writeAppletTag(attributes, parameters);
                }
            } else {
                // for unknown or Safari - just try to show applet
                this.writeAppletTag(attributes, parameters);
            }
        } else {
            log('[runApplet()] Invalid minimumVersion argument to runApplet():' +
                      minimumVersion);
        }
    },


    /**
     * Outputs an applet tag with the specified attributes and parameters, where
     * both attributes and parameters are associative arrays.  Each key/value
     * pair in attributes becomes an attribute of the applet tag itself, while
     * key/value pairs in parameters become <PARAM> tags.  No version checking
     * or other special behaviors are performed; the tag is simply written to
     * the page using document.writeln().
     *
     * As document.writeln() is generally only safe to use while the page is
     * being rendered, you should never call this function after the page
     * has been completed.
     */
    writeAppletTag: function(attributes, parameters) {
        var startApplet = '<' + 'applet ';
        var params = '';
        var endApplet = '<' + '/' + 'applet' + '>';
        var addCodeAttribute = true;

        if (null == parameters || typeof parameters != 'object') {
            parameters = new Object();
        }

        for (var attribute in attributes) {
            if (! isValidAppletAttr(attribute)) {
                parameters[attribute] = attributes[attribute];
            } else {
                startApplet += (' ' +attribute+ '="' +attributes[attribute] + '"');
                if (attribute == 'code') {
                    addCodeAttribute = false;
                }
            }
        }

        var codebaseParam = false;
        for (var parameter in parameters) {
            if (parameter == 'codebase_lookup') {
                codebaseParam = true;
            }
            // Originally, parameter 'object' was used for serialized
            // applets, later, to avoid confusion with object tag in IE
            // the 'java_object' was added.  Plugin supports both.
            if (parameter == 'object' || parameter == 'java_object' ||
                parameter == 'java_code' ) {
                addCodeAttribute = false;
            }
            params += '<param name="' + parameter + '" value="' +
                parameters[parameter] + '"/>';
        }
        if (!codebaseParam) {
            params += '<param name="codebase_lookup" value="false"/>';
        }

        if (addCodeAttribute) {
            startApplet += (' code="dummy"');
        }
        startApplet += '>';

        document.write(startApplet + '\n' + params + '\n' + endApplet);
    },
  

     /**
      * Returns true if there is a matching JRE version currently installed
      * (among those detected by getJREs()).  The versionPattern string is
      * of the form #[.#[.#[_#]]][+|*], which includes strings such as "1.4",
      * "1.5.0*", and "1.6.0_02+".
      * A star (*) means "any version within this family" and a plus (+) means
      * "any version greater or equal to the specified version".  "1.5.0*"
      * matches 1.5.0_06 but not 1.6.0_01, whereas "1.5.0+" matches both.
      *
      * If the versionPattern does not include all four version components
      * but does not end with a star or plus, it will be treated as if it
      * ended with a star.  "1.5" is exactly equivalent to "1.5*", and will
      * match any version number beginning with "1.5".
      *
      * If getJREs() is unable to detect the precise version number, a match
      * could be ambiguous.  For example if getJREs() detects "1.5", there is
      * no way to know whether the JRE matches "1.5.0_06+".  versionCheck()
      * compares only as much of the version information as could be detected,
      * so versionCheck("1.5.0_06+") would return true in in this case.
      *
      * Invalid versionPattern will result in a JavaScript error alert.
      * versionPatterns which are valid but do not match any existing JRE
      * release (e.g. "32.65+") will always return false.
      */
    versionCheck: function(versionPattern)
    {
        return doVersionCheck(versionPattern, isNoPluginWebBrowser());
    },


    /**
     * Returns true if an installation of Java Web Start of the specified
     * minimumVersion can be detected.  minimumVersion is optional, and
     * if not specified, '1.4.2' will be used.
     * (Versions earlier than 1.4.2 may not be detected.)
     */
    isWebStartInstalled: function(minimumVersion) {

        if(isNoPluginWebBrowser()) {
            return true;
        }
        var browser = this.getBrowser();
        if (browser == '?') {
            // we really don't know - better to try to use it than reinstall
            return true;
        }

        if (minimumVersion == 'undefined' || minimumVersion == null) {
            minimumVersion = '1.4.2';
        }

        var retval = false;
        var matchData = minimumVersion.match(version_regex_strict);
        if (matchData != null) {
            retval = this.versionCheck(minimumVersion + '+');
        } else {
            log('[isWebStartInstaller()] Invalid minimumVersion argument to isWebStartInstalled(): ' + minimumVersion);
            retval = this.versionCheck('1.4.2+');
        }
        return retval;
    },


    // obtain JPI version using navigator.mimeTypes array
    // if found, set the version to this.firefoxJavaVersion
    getJPIVersionUsingMimeType: function() {
        // Walk through the full list of mime types.
        // Try static MIME type first (for JRE versions earlier than JRE 9)
        for (var i = 0; i < navigator.mimeTypes.length; ++i) {
            var s = navigator.mimeTypes[i].type;
            var m = s.match(/^application\/x-java-applet;jpi-version=(.*)$/); 
            if (m != null) {
                this.firefoxJavaVersion = m[1];
                this.useStaticMimeType = true;
                return;
            }
        }

        for (var i = 0; i < navigator.mimeTypes.length; ++i) {
            var s = navigator.mimeTypes[i].type;
            // The MIME type for the latest JRE is always the last one
            var m = s.match(/^application\/x-java-applet;version=(.*)$/);
            if (m != null) {
                this.firefoxJavaVersion = m[1];
            }
        }

    },

   // launch the specified JNLP application using the passed in jnlp file
   // the jnlp file does not need to have a codebase
   // this requires JRE 7 or above to work
   // if machine has no JRE 7 or above, we will try to auto-install and then launch
   // (function will return false if JRE auto-install failed)
   launchWebStartApplication: function(jnlp) {
	var uaString = navigator.userAgent.toLowerCase();

	this.getJPIVersionUsingMimeType();

	// make sure we are JRE 7 or above
        if (isWebStartFound() == false) {
            if(isNoPluginWebBrowser()) {
                launchWithJnlpProtocol(jnlp);
            } else if ((this.installJRE('1.7.0+') == false) ||
                      ((this.isWebStartInstalled('1.7.0') == false))) {
                return false;
            }
	}

        var jnlpDocbase = null;

        // use document.documentURI for docbase
        if (document.documentURI) {
		jnlpDocbase = document.documentURI;
	}

	// fallback to document.URL if documentURI not available
        if (jnlpDocbase == null) {
		jnlpDocbase = document.URL;
	}

        var browser = this.getBrowser();

        var launchTag;

        if (browser == 'MSIE') {

            launchTag = '<' +
                'object classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" ' +
		'width="0" height="0">' +
		'<' + 'PARAM name="launchjnlp" value="' + jnlp + '"' + '>' +
	        '<' + 'PARAM name="docbase" value="' + encodeURIComponent(jnlpDocbase) + '"' + '>' +
                '<' + '/' + 'object' + '>';
        } else if (browser == 'Netscape Family') {

            launchTag = '<embed type="' +
		(this.useStaticMimeType ? 'application/x-java-applet;jpi-version='
                                        : 'application/x-java-applet;version=') +
		this.firefoxJavaVersion + '" ' +
                'width="0" height="0" ' +
                'launchjnlp="' +  jnlp + '"' +
                'docbase="' +  encodeURIComponent(jnlpDocbase) + '"' +
                ' />';
        }

        if (document.body == 'undefined' || document.body == null) {
           document.write(launchTag);
           // go back to original page, otherwise current page becomes blank
           document.location = jnlpDocbase;
        } else {
           var divTag = document.createElement("div");
           divTag.id = "div1";
           divTag.style.position = "relative";
           divTag.style.left = "-10000px";
           divTag.style.margin = "0px auto";
           divTag.className ="dynamicDiv";
           divTag.innerHTML = launchTag;
           document.body.appendChild(divTag);
        }
   },

   createWebStartLaunchButtonEx: function(jnlp, minimumVersion) {

        if (this.returnPage == null) {
            // if there is an install, come back and run the jnlp file
            this.returnPage = jnlp;
        }

        var url = 'javascript:deployJava.launchWebStartApplication(\'' + jnlp +
			'\');';

        document.write('<' + 'a href="' + url +
                       '" onMouseOver="window.status=\'\'; ' +
                       'return true;"><' + 'img ' +
                       'src="' + this.launchButtonPNG + '" ' +
                       'border="0" /><' + '/' + 'a' + '>');
    },


    /**
     * Outputs a launch button for the specified JNLP URL.  When clicked, the
     * button will ensure that an appropriate JRE is installed and then launch
     * the JNLP application.  minimumVersion is of the form #[.#[.#[_#]]], and
     * is the minimum JRE version necessary to run this JNLP application.
     * minimumVersion is optional, and if it is not specified, '1.4.2'
     * will be used.
     * If an appropriate JRE or Web Start installation is detected,
     * the JNLP application will be launched, otherwise installLatestJRE()
     * will be called.
     *
     * After installLatestJRE() is called, the script will attempt to detect
     * that the JRE installation has completed and launch the JNLP application,
     * but there are circumstances (such as when the JRE installation
     * requires a browser restart) when this cannot be fulfilled.
     */
    createWebStartLaunchButton: function(jnlp, minimumVersion) {

        if (this.returnPage == null) {
            // if there is an install, come back and run the jnlp file
            this.returnPage = jnlp;
        }

        var url = 'javascript:' +
                  'if (!deployJava.isWebStartInstalled(&quot;' +
                      minimumVersion + '&quot;)) {' +
                      'if (deployJava.installLatestJRE()) {' +
                        'if (deployJava.launch(&quot;' + jnlp + '&quot;)) {}' +
                      '}' +
                  '} else {' +
                      'if (deployJava.launch(&quot;' + jnlp + '&quot;)) {}' +
                  '}';

        document.write('<' + 'a href="' + url +
                       '" onMouseOver="window.status=\'\'; ' +
                       'return true;"><' + 'img ' +
                       'src="' + this.launchButtonPNG + '" ' +
                       'border="0" /><' + '/' + 'a' + '>');
    },


    /**
     * Launch a JNLP application, (using the plugin if available)
     */
    launch: function(jnlp) {
   /*
    * Using the plugin to launch Java Web Start is disabled for the time being
    */
        document.location=jnlp;
        return true;
    },

   /**
     * Launch a JNLP application, using JNLP protocol handler
     */
    launchEx: function(jnlp) {
        launchWithJnlpProtocol(jnlp);
        return true;
    },



    /*
     * returns true if the ActiveX or XPI plugin is installed
     */
    isPluginInstalled: function() {
        var plugin = this.getPlugin();
        if (plugin && plugin.jvms) {
            return true;
        } else {
            return false;
        }
    },

    /*
     * returns true if the plugin is installed and AutoUpdate is enabled
     */
    isAutoUpdateEnabled: function() {
        if (this.isPluginInstalled()) {
            return this.getPlugin().isAutoUpdateEnabled();
        }
        return false;
    },

    /*
     * sets AutoUpdate on if plugin is installed
     */
    setAutoUpdateEnabled: function() {
        if (this.isPluginInstalled()) {
            return this.getPlugin().setAutoUpdateEnabled();
        }
        return false;
    },

    /*
     * sets the preferred install type : null, online, kernel
     */
    setInstallerType: function(type) {
        log ("The Deployment Toolkit no longer installs JRE. Method setInstallerType() is no-op. " + 
             "More Information on usage of the Deployment Toolkit can be found in the Deployment Guide at " +
             "://docs.oracle.com/javase/8/docs/technotes/guides/deploy/");

        return false;
    },

    /*
     * sets additional package list - to be used by kernel installer
     */
    setAdditionalPackages: function(packageList) {
        log ("The Deployment Toolkit no longer installs JRE. Method setAdditionalPackages() is no-op. " + 
             "More Information on usage of the Deployment Toolkit can be found in the Deployment Guide at " +
             "://docs.oracle.com/javase/8/docs/technotes/guides/deploy/");
        return false;
    },

    /*
     * sets preference to install Early Access versions if available
     */
    setEarlyAccess: function(enabled) {
        this.EAInstallEnabled = enabled;
    },

    /*
     * Determines if the next generation plugin (Plugin II) is default
     */
    isPlugin2: function() {
        if (this.isPluginInstalled()) {
            if (this.versionCheck('1.6.0_10+')) {
                try {
                    return this.getPlugin().isPlugin2();
                } catch (err) {
                    // older plugin w/o isPlugin2() function -
                }
            }
        }
        return false;
    },

    //support native DT plugin?
    allowPlugin: function() {
        this.getBrowser();

        // Safari and Opera browsers find the plugin but it
        // doesn't work, so until we can get it to work - don't use it.
        var ret = ('Safari' != this.browserName2 &&
            'Opera' != this.browserName2);

        return ret;
    },

    getPlugin: function() {
        this.refresh();

        var ret = null;
        if (this.allowPlugin()) {
            ret = document.getElementById('deployJavaPlugin');
        }
        return ret;
    },

    compareVersionToPattern: function(version, patternArray,
                                      familyMatch, minMatch) {
        if (version == undefined || patternArray == undefined) {
           return false;
        }
        var matchData = version.match(version_regex_strict);
        if (matchData != null) {
            var index = 0;
            var result = new Array();

            for (var i = 1; i < matchData.length; ++i) {
                if ((typeof matchData[i] == 'string') && (matchData[i] != ''))
                {
                    result[index] = matchData[i];
                    index++;
                }
            }

            var l = Math.min(result.length, patternArray.length);

            // result contains what is installed in local machine
            // patternArray is what is being requested by application
            if (minMatch) {
                // minimum version match, return true if what we have (installed) 
                // is greater or equal to what is requested.  false otherwise. 
                for (var i = 0; i < l; ++i) {
                    var resultTemp = parseInt(result[i]);
                    var patternArrayTemp = parseInt(patternArray[i]);
                    if (resultTemp < patternArrayTemp) {
                        return false;
                    } else if (resultTemp > patternArrayTemp) {
                        return true;
                    }
                }
                return true;
            } else {
                for (var i = 0; i < l; ++i) {
                    if (result[i] != patternArray[i]) return false;
                }
                if (familyMatch) {
                    // family match - return true as long as what we have
                    // (installed) matches up to the request pattern
                    return true;
                } else { 
                    // exact match
                    // result and patternArray needs to have exact same content
                    return (result.length == patternArray.length);
                }
            }
        } else {
            return false;
        }
    },

    getBrowser: function() {

        if (this.browserName == null) {
            var browser = navigator.userAgent.toLowerCase();

            log('[getBrowser()] navigator.userAgent.toLowerCase() -> ' + browser);


            // order is important here.  Safari userAgent contains mozilla,
            // IE 11 userAgent contains mozilla and netscape, 
            // and Chrome userAgent contains both mozilla and safari.
            if (browser.indexOf('edge') != -1) {
                this.browserName = 'Edge';
                this.browserName2 = 'Edge';
            } else if ((browser.indexOf('msie') != -1) && (browser.indexOf('opera') == -1)) {
                this.browserName = 'MSIE';
                this.browserName2 = 'MSIE';
            } else if (browser.indexOf('trident') != -1 || browser.indexOf('Trident') != -1) {
                this.browserName = 'MSIE';
                this.browserName2 = 'MSIE';
                // For Windows 8 and Windows 8.1 check for Metro mode
                if (browser.indexOf('windows nt 6.3') != -1 || browser.indexOf('windows nt 6.2') != -1) {
                    try{
                        // try to create a known ActiveX object
                        new ActiveXObject("htmlfile");
                    } catch(e) {
			// ActiveX is disabled
                        this.browserName2 = 'NoActiveX';
                    }     
                }
            } else if (browser.indexOf('iphone') != -1) {
                // this included both iPhone and iPad
                this.browserName = 'Netscape Family';
                this.browserName2 = 'iPhone';
            } else if ((browser.indexOf('firefox') != -1) && (browser.indexOf('opera') == -1)) {
                this.browserName = 'Netscape Family';
                this.browserName2 = 'Firefox';
            } else if (browser.indexOf('chrome') != -1) {
                this.browserName = 'Netscape Family';
                this.browserName2 = 'Chrome';
            } else if (browser.indexOf('safari') != -1) {
                this.browserName = 'Netscape Family';
                this.browserName2 = 'Safari';
            } else if ((browser.indexOf('mozilla') != -1) && (browser.indexOf('opera') == -1)) {
                this.browserName = 'Netscape Family';
                this.browserName2 = 'Other';
            } else if (browser.indexOf('opera') != -1) {
                this.browserName = 'Netscape Family';
                this.browserName2 = 'Opera';
            } else {
                this.browserName = '?';
                this.browserName2 = 'unknown';
            }

            log('[getBrowser()] Detected browser name:'+ this.browserName +
                       ', ' + this.browserName2);
        }
        return this.browserName;
    },


    testUsingActiveX: function(version) {
        var objectName = 'JavaWebStart.isInstalled.' + version + '.0';

        // we need the typeof check here for this to run on FF/Chrome
        // the check needs to be in place here - cannot even pass ActiveXObject
        // as arg to another function
        if (typeof ActiveXObject == 'undefined' || !ActiveXObject) {
            log('[testUsingActiveX()] Browser claims to be IE, but no ActiveXObject object?');
            return false;
        }

        try {
            return (new ActiveXObject(objectName) != null);
        } catch (exception) {
            return false;
        }
    },


    testForMSVM: function() {
        var clsid = '{08B0E5C0-4FCB-11CF-AAA5-00401C608500}';

        if (typeof oClientCaps != 'undefined') {
            var v = oClientCaps.getComponentVersion(clsid, "ComponentID");
            if ((v == '') || (v == '5,0,5000,0')) {
                return false;
            } else {
                return true;
            }
        } else {
            return false;
        }
    },


    testUsingMimeTypes: function(version) {
        if (!navigator.mimeTypes) {
            log ('[testUsingMimeTypes()] Browser claims to be Netscape family, but no mimeTypes[] array?');
            return false;
        }

        for (var i = 0; i < navigator.mimeTypes.length; ++i) {
            s = navigator.mimeTypes[i].type;
            var m = s.match(/^application\/x-java-applet\x3Bversion=(1\.8|1\.7|1\.6|1\.5|1\.4\.2)$/);
            if (m != null) {
                if (this.compareVersions(m[1], version)) {
                    return true;
                }
            }
        }
        return false;
    },

    testUsingPluginsArray: function(version) {
        if ((!navigator.plugins) || (!navigator.plugins.length)) {
            return false;
        }
        var platform = navigator.platform.toLowerCase();

        for (var i = 0; i < navigator.plugins.length; ++i) {
            s = navigator.plugins[i].description;
            if (s.search(/^Java Switchable Plug-in (Cocoa)/) != -1) {
                // Safari on MAC
                if (this.compareVersions("1.5.0", version)) {
                    return true;
                }
            } else if (s.search(/^Java/) != -1) {
                if (platform.indexOf('win') != -1) {
                    // still can't tell - opera, safari on windows
                    // return true for 1.5.0 and 1.6.0
                    if (this.compareVersions("1.5.0", version) ||
                        this.compareVersions("1.6.0", version)) {
                        return true;
                    }
                }
            }
        }
        // if above dosn't work on Apple or Windows, just allow 1.5.0
        if (this.compareVersions("1.5.0", version)) {
            return true;
        }
        return false;



    },

    IEInstall: function() {

        location.href = constructGetJavaURL(
            ((this.returnPage != null) ?
            ('&returnPage=' + this.returnPage) : '') +
            ((this.locale != null) ?
            ('&locale=' + this.locale) : '') +
            ((this.brand != null) ? ('&brand=' + this.brand) : ''));

         // should not actually get here
         return false;
    },

    done: function (name, result) {
    },

    FFInstall: function() {

        location.href = constructGetJavaURL(
            ((this.returnPage != null) ?
            ('&returnPage=' + this.returnPage) : '') +
            ((this.locale != null) ?
            ('&locale=' + this.locale) : '') +
            ((this.brand != null) ? ('&brand=' + this.brand) : '') +
            ((this.installType != null) ?
                ('&type=' + this.installType) : ''));

         // should not actually get here
         return false;
    },

    // return true if 'installed' (considered as a JRE version string) is
    // greater than or equal to 'required' (again, a JRE version string).
    compareVersions: function(installed, required) {
        var a = installed.split('.');
        var b = required.split('.');

        for (var i = 0; i < a.length; ++i) {
            a[i] = Number(a[i]);
        }
        for (var i = 0; i < b.length; ++i) {
            b[i] = Number(b[i]);
        }
        if (a.length == 2) {
            a[2] = 0;
        }

        if (a[0] > b[0]) return true;
        if (a[0] < b[0]) return false;

        if (a[1] > b[1]) return true;
        if (a[1] < b[1]) return false;

        if (a[2] > b[2]) return true;
        if (a[2] < b[2]) return false;

        return true;
    },

    enableAlerts: function() {
        // reset this so we can show the browser detection
        this.browserName = null;
        this.debug = true;
    },

    poll: function() {

        this.refresh();
        var postInstallJREList = this.getJREs();

        if ((this.preInstallJREList.length == 0) &&
            (postInstallJREList.length != 0)) {
            clearInterval(this.myInterval);
            if (this.returnPage != null) {
                location.href = this.returnPage;
            };
        }

        if ((this.preInstallJREList.length != 0) &&
            (postInstallJREList.length != 0) &&
            (this.preInstallJREList[0] != postInstallJREList[0])) {
            clearInterval(this.myInterval);
            if (this.returnPage != null) {
                location.href = this.returnPage;
            }
        }

    },

    writePluginTag: function() {
        var browser = this.getBrowser();

        if (browser == 'MSIE') {
            document.write('<' +
                'object classid="clsid:CAFEEFAC-DEC7-0000-0001-ABCDEFFEDCBA" ' +
                'id="deployJavaPlugin" width="0" height="0">' +
                '<' + '/' + 'object' + '>');
        } else if (browser == 'Netscape Family' && this.allowPlugin()) {
            this.writeEmbedTag();
        }
    },

    refresh: function() {
        navigator.plugins.refresh(false);

        var browser = this.getBrowser();
        if (browser == 'Netscape Family' && this.allowPlugin()) {
            var plugin = document.getElementById('deployJavaPlugin');
            // only do this again if no plugin
            if (plugin == null) {
                this.writeEmbedTag();
            }
        }
     },

    writeEmbedTag: function() {
        var written = false;
        if (navigator.mimeTypes != null) {
            for (var i=0; i < navigator.mimeTypes.length; i++) {
                if (navigator.mimeTypes[i].type == this.mimeType) {
                    if (navigator.mimeTypes[i].enabledPlugin) {
                        document.write('<' +
                            'embed id="deployJavaPlugin" type="' +
                            this.mimeType + '" hidden="true" />');
                        written = true;
                    }
                }
            }
            // if we ddn't find new mimeType, look for old mimeType
            if (!written) for (var i=0; i < navigator.mimeTypes.length; i++) {
                if (navigator.mimeTypes[i].type == this.oldMimeType) {
                    if (navigator.mimeTypes[i].enabledPlugin) {
                        document.write('<' +
                            'embed id="deployJavaPlugin" type="' +
                            this.oldMimeType + '" hidden="true" />');
                    }
                }
            }
        }
    }
    }; // deployJava object
    //Retirando a escrita do plugin logo quando entra na página.
    //Esse comportamento não tinha boa usabilidade pois carregava o applet quando entrava na pagina.
    //Comportamento alterado para executar o plugin quando o usuário clica no botao de assinar.
    //rv.writePluginTag();
    if (rv.locale == null) {
        var loc = null;

        if (loc == null) try {
            loc = navigator.userLanguage;
        } catch (err) { }

        if (loc == null) try {
            loc = navigator.systemLanguage;
        } catch (err) { }

        if (loc == null) try {
            loc = navigator.language;
        } catch (err) { }

        if (loc != null) {
            loc.replace("-","_")
            rv.locale = loc;
        }
    }

    return rv;
}();
